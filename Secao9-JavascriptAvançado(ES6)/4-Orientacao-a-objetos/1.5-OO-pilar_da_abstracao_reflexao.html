<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>OO - pilar da abstração</title>

		<script>
			
			/*
			//Um software de mercenaria
			//cadeira e sofá

			//paradigma procedural (para esse contexto o código fica muito redundante e verboso)

			//Array de cadeiras
			let cadeiras = Array()
			cadeiras[0] = Array()
			cadeiras[0]['qtde_pernas'] = 4
			cadeiras[0]['giratoria'] = false
			cadeiras[0]['cor'] = 'azul'

			cadeiras[1] = Array()
			cadeiras[1]['qtde_pernas'] = 1
			cadeiras[1]['giratoria'] = true
			cadeiras[1]['cor'] = 'vermelha'

			//cadeira
			let qtde_pernas = 4
			let giratoria = false
			let cor = 'azul'

			function girarCadeira(indice){
				if(cadeiras[indice]['giratoria'] === true){
					console.log('girou')
				}else{
					console.log('cadeira não é giratória')
				}
			}

			function adicionarCadeira(qtde_pernas, giratoria, cor){
				let cadeira = Array()
				cadeira['qtde_pernas'] = qtde_pernas
				cadeira['giratoria'] = giratoria
				cadeira['cor'] = cor

				cadeiras.push(cadeira)
			}

			adicionarCadeira(3, false, 'verde')

			console.log(cadeiras)
			*/

			//paradigma de Orientação à objetos

			class Cadeiras{
				constructor(qtde_pernas, giratoria,cor){
					//construindo atributos com base nos parâmetros
					//as variaveis com this. fazem referencia ao objeto e as sem this são os parâmetros
					this.qtde_pernas = qtde_pernas
					this.giratoria = giratoria
					this.cor = cor
				}

				//criando métodos
				girarCadeira(){
					this.giratoria === true ? console.log('girou') : console.log('Cadeira não é giratória')
				}
			}

			//adicionando cadeiras
			/*
			let cadeira1 = new Cadeiras(4, false, 'azul') //Esses parâmetros serão recebidos no construtor 
			let cadeira2 = new Cadeiras(1,true,'vermelha')
			Nesse caso, se tiver muitas cadeiras, coloque elas em um array (aí fica um objeto dentro de um Array)
			*/

			let cadeiras = Array()
			cadeiras[0] = new Cadeiras(4, false, 'azul') 
			cadeiras[1] = new Cadeiras(1,true,'vermelha')

			//adicionando uma nova cadeira(Desafio rápido)
			function adicionarCadeiras(){
				let qtde_pernas = parseInt(prompt('Quantidade de pernas?'))
				let giratoria = prompt('É giratória? (sim ou não)')
				giratoria = giratoria === 'sim' ? true : false
				let cor = prompt('Cor?')

				cadeiras.push(new Cadeiras(qtde_pernas, giratoria, cor))
				console.log(cadeiras)
			}


			//----------------- Sofás -----------------------------

			class Sofas{
				constructor(cor, qnt_lugares, reclinavel){
					this.cor = cor
					this.qnt_lugares_total = qnt_lugares
					this.qnt_lugares_disponiveis = this.qnt_lugares_total
					this.reclinavel = reclinavel
				}

				reclinarSofa(){
					if(this.reclinavel == true){
						alert('reclinou')
					} else{
						alert('Sofá não é reclinável')
					}
				}

				ocuparLugar(qnt_lugares_ocupados){
					this.qnt_lugares_disponiveis -= qnt_lugares_ocupados

					if(this.qnt_lugares_disponiveis <= 0){
						if(prompt('Não há mais espaço do sofá. Gostaria de liberar todos espaços?') === 'sim'){
							this.qnt_lugares_disponiveis = this.qnt_lugares_total
							alert(`Quantidade disponível de lugares: ${this.qnt_lugares_disponiveis}`)
						} else {
							alert('Quantidade de lugares disponíveis: 0')
						}
					} else{
						alert('Quantidade de lugares disponíveis: ' + this.qnt_lugares_disponiveis)
					}
				}	
			}

			let sofas = Array()
			sofas[0] = new Sofas('verde', 4, false)

			function adicionarSofas(){
				let cor = prompt('Cor?')
				let qnt_lugares = parseInt(prompt('Quantos assentos tem o sofá?'))
				let reclinavel = prompt('É reclinavel? (sim ou não)')
				reclinavel = reclinavel === 'sim' ? true : false


				sofas.push(new Sofas(cor, qnt_lugares, reclinavel))
				console.log(sofas)
			}

			sofas[0].ocuparLugar(4)
			
		</script>
	</head>
	<body>
		<button onclick="adicionarCadeiras()">Adicionar cadeira</button> 

		<hr>

		<h3>Ações sofá</h3>
		<button onclick="adicionarSofas()">Adicionar sofá</button> <br>
	</body>
</html>